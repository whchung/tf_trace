<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.38.0 (20140413.2041)
 -->
<!-- Title: 03 Pages: 1 -->
<svg width="1478pt" height="512pt"
 viewBox="0.00 0.00 1478.00 511.69" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 507.693)">
<title>03</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-507.693 1474,-507.693 1474,4 -4,4"/>
<text text-anchor="middle" x="735" y="-7.8" font-family="Times,serif" font-size="14.00">XLA graph optimizations</text>
<g id="clust1" class="cluster"><title>cluster_XLA</title>
<polygon fill="none" stroke="black" points="8,-31 8,-495.693 1462,-495.693 1462,-31 8,-31"/>
<text text-anchor="middle" x="735" y="-480.493" font-family="Times,serif" font-size="14.00">XLA</text>
</g>
<g id="clust2" class="cluster"><title>cluster_jit_compilation_pass_registration_cc</title>
<g id="a_clust2"><a xlink:href="https://github.com/ROCmSoftwarePlatform/tensorflow/blob/rocm-v1/tensorflow/compiler/jit/jit_compilation_pass_registration.cc" xlink:title="tensorflow/compiler/jit/jit_compilation_pass_registration.cc">
<polygon fill="none" stroke="black" points="73,-239.693 73,-464.693 416,-464.693 416,-239.693 73,-239.693"/>
<text text-anchor="middle" x="244.5" y="-449.493" font-family="Times,serif" font-size="14.00">tensorflow/compiler/jit/jit_compilation_pass_registration.cc</text>
</a>
</g>
</g>
<g id="clust3" class="cluster"><title>cluster_mark_for_compilation_pass_cc</title>
<g id="a_clust3"><a xlink:href="https://github.com/ROCmSoftwarePlatform/tensorflow/blob/rocm-v1/tensorflow/compiler/jit/mark_for_compilation_pass.cc" xlink:title="tensorflow/compiler/jit/mark_for_compilation_pass.cc">
<polygon fill="none" stroke="black" points="926,-128.74 926,-389.693 1454,-389.693 1454,-128.74 926,-128.74"/>
<text text-anchor="middle" x="1190" y="-374.493" font-family="Times,serif" font-size="14.00">tensorflow/compiler/jit/mark_for_compilation_pass.cc</text>
</a>
</g>
</g>
<g id="clust4" class="cluster"><title>cluster_encapsulate_subgraph_pass_cc</title>
<g id="a_clust4"><a xlink:href="https://github.com/ROCmSoftwarePlatform/tensorflow/blob/rocm-v1/tensorflow/compiler/jit/encapsulate_subgraphs_pass.cc" xlink:title="tensorflow/compiler/jit/encapsulate_subgraphs_pass.cc">
<polygon fill="none" stroke="black" points="424,-39 424,-314.693 918,-314.693 918,-39 424,-39"/>
<text text-anchor="middle" x="671" y="-299.493" font-family="Times,serif" font-size="14.00">tensorflow/compiler/jit/encapsulate_subgraphs_pass.cc</text>
</a>
</g>
</g>
<g id="clust5" class="cluster"><title>cluster_build_xla_launch_ops_pass_cc</title>
<g id="a_clust5"><a xlink:href="https://github.com/ROCmSoftwarePlatform/tensorflow/blob/rocm-v1/tensorflow/compiler/jit/build_xla_launch_ops_pass.cc" xlink:title="tensorflow/compiler/jit/build_xla_launch_ops_pass.cc">
<polygon fill="none" stroke="black" points="16,-39 16,-223.217 416,-223.217 416,-39 16,-39"/>
<text text-anchor="middle" x="216" y="-208.017" font-family="Times,serif" font-size="14.00">tensorflow/compiler/jit/build_xla_launch_ops_pass.cc</text>
</a>
</g>
</g>
<!-- 00 -->
<g id="node1" class="node"><title>00</title>
<g id="a_node1"><a xlink:href="https://github.com/ROCmSoftwarePlatform/tensorflow/blob/rocm-v1/tensorflow/compiler/jit/jit_compilation_pass_registration.cc#L23" xlink:title="MarkForCompilationPass">
<ellipse fill="none" stroke="black" cx="303" cy="-415.693" rx="102.882" ry="18"/>
<text text-anchor="middle" x="303" y="-411.993" font-family="Times,serif" font-size="14.00">MarkForCompilationPass</text>
</a>
</g>
</g>
<!-- 01 -->
<g id="node2" class="node"><title>01</title>
<g id="a_node2"><a xlink:href="https://github.com/ROCmSoftwarePlatform/tensorflow/blob/rocm-v1/tensorflow/compiler/jit/jit_compilation_pass_registration.cc#L30" xlink:title="EncapsulateSubgraphsPass">
<ellipse fill="none" stroke="black" cx="302" cy="-340.693" rx="105.881" ry="18"/>
<text text-anchor="middle" x="302" y="-336.993" font-family="Times,serif" font-size="14.00">EncapsulateSubgraphsPass</text>
</a>
</g>
</g>
<!-- 00&#45;&gt;01 -->
<g id="edge1" class="edge"><title>00&#45;&gt;01</title>
<path fill="none" stroke="black" d="M302.763,-397.393C302.647,-388.939 302.505,-378.562 302.375,-369.067"/>
<polygon fill="black" stroke="black" points="305.872,-368.82 302.235,-358.869 298.873,-368.916 305.872,-368.82"/>
</g>
<!-- 03 -->
<g id="node4" class="node"><title>03</title>
<g id="a_node4"><a xlink:href="https://github.com/ROCmSoftwarePlatform/tensorflow/blob/rocm-v1/tensorflow/compiler/jit/mark_for_compilation_pass.cc#L231" xlink:title="tensorflow::MarkForCompilationPass::Run()">
<ellipse fill="none" stroke="black" cx="1112" cy="-340.693" rx="170.07" ry="18"/>
<text text-anchor="middle" x="1112" y="-336.993" font-family="Times,serif" font-size="14.00">tensorflow::MarkForCompilationPass::Run()</text>
</a>
</g>
</g>
<!-- 00&#45;&gt;03 -->
<g id="edge3" class="edge"><title>00&#45;&gt;03</title>
<path fill="none" stroke="black" d="M391.891,-406.672C533.31,-393.911 810.484,-368.901 976.67,-353.905"/>
<polygon fill="black" stroke="black" points="977.315,-357.361 986.96,-352.976 976.686,-350.389 977.315,-357.361"/>
</g>
<!-- 02 -->
<g id="node3" class="node"><title>02</title>
<g id="a_node3"><a xlink:href="https://github.com/ROCmSoftwarePlatform/tensorflow/blob/rocm-v1/tensorflow/compiler/jit/jit_compilation_pass_registration.cc#L34" xlink:title="BuildXlaLaunchOpsPass">
<ellipse fill="none" stroke="black" cx="265" cy="-265.693" rx="98.5829" ry="18"/>
<text text-anchor="middle" x="265" y="-261.993" font-family="Times,serif" font-size="14.00">BuildXlaLaunchOpsPass</text>
</a>
</g>
</g>
<!-- 01&#45;&gt;02 -->
<g id="edge2" class="edge"><title>01&#45;&gt;02</title>
<path fill="none" stroke="black" d="M293.232,-322.393C288.762,-313.575 283.233,-302.666 278.256,-292.846"/>
<polygon fill="black" stroke="black" points="281.348,-291.207 273.706,-283.869 275.105,-294.371 281.348,-291.207"/>
</g>
<!-- 04 -->
<g id="node7" class="node"><title>04</title>
<g id="a_node7"><a xlink:href="https://github.com/ROCmSoftwarePlatform/tensorflow/blob/rocm-v1/tensorflow/compiler/jit/encapsulate_subgraphs_pass.cc#L613" xlink:title="tensorflow::EncpasulateSubgraphsPass::Run()">
<ellipse fill="none" stroke="black" cx="609" cy="-265.693" rx="173.569" ry="18"/>
<text text-anchor="middle" x="609" y="-261.993" font-family="Times,serif" font-size="14.00">tensorflow::EncpasulateSubgraphsPass::Run()</text>
</a>
</g>
</g>
<!-- 01&#45;&gt;04 -->
<g id="edge6" class="edge"><title>01&#45;&gt;04</title>
<path fill="none" stroke="black" d="M367.022,-326.404C384.274,-322.745 402.868,-318.682 420,-314.693 459.482,-305.501 503.379,-294.407 538.923,-285.2"/>
<polygon fill="black" stroke="black" points="539.917,-288.558 548.716,-282.657 538.158,-281.783 539.917,-288.558"/>
</g>
<!-- 05 -->
<g id="node10" class="node"><title>05</title>
<g id="a_node10"><a xlink:href="https://github.com/ROCmSoftwarePlatform/tensorflow/blob/rocm-v1/tensorflow/compiler/jit/build_xla_launch_ops_pass.cc#L123" xlink:title="tensorflow::BuildXlaLaunchOpsPass::Run()">
<ellipse fill="none" stroke="black" cx="229" cy="-174.217" rx="167.07" ry="18"/>
<text text-anchor="middle" x="229" y="-170.517" font-family="Times,serif" font-size="14.00">tensorflow::BuildXlaLaunchOpsPass::Run()</text>
</a>
</g>
</g>
<!-- 02&#45;&gt;05 -->
<g id="edge9" class="edge"><title>02&#45;&gt;05</title>
<path fill="none" stroke="black" d="M258.059,-247.441C252.879,-234.568 245.705,-216.737 239.781,-202.013"/>
<polygon fill="black" stroke="black" points="242.9,-200.387 235.92,-192.416 236.405,-203 242.9,-200.387"/>
</g>
<!-- 06 -->
<g id="node5" class="node"><title>06</title>
<g id="a_node5"><a xlink:href="https://github.com/ROCmSoftwarePlatform/tensorflow/blob/rocm-v1/tensorflow/compiler/jit/mark_for_compilation_pass.cc#L287" xlink:title="tensorflow::MarkForCompilationPass::RunImpl()">
<ellipse fill="none" stroke="black" cx="1155" cy="-265.693" rx="187.367" ry="18"/>
<text text-anchor="middle" x="1155" y="-261.993" font-family="Times,serif" font-size="14.00">tensorflow::MarkForCompilationPass::RunImpl()</text>
</a>
</g>
</g>
<!-- 03&#45;&gt;06 -->
<g id="edge4" class="edge"><title>03&#45;&gt;06</title>
<path fill="none" stroke="black" d="M1122.19,-322.393C1127.44,-313.484 1133.94,-302.441 1139.77,-292.543"/>
<polygon fill="black" stroke="black" points="1142.82,-294.262 1144.88,-283.869 1136.79,-290.709 1142.82,-294.262"/>
</g>
<!-- 07 -->
<g id="node6" class="node"><title>07</title>
<ellipse fill="none" stroke="black" cx="1190" cy="-174.217" rx="255.945" ry="37.4533"/>
<text text-anchor="start" x="1147" y="-185.517" font-family="Times,serif" font-size="14.00"> Traverse graph</text>
<text text-anchor="start" x="1017" y="-170.517" font-family="Times,serif" font-size="14.00">Identify XLA&#45;compatible nodes and form clusters (subgraphs) </text>
<text text-anchor="start" x="1088.5" y="-155.517" font-family="Times,serif" font-size="14.00"> Annotate with _XlaCluster attribute </text>
</g>
<!-- 06&#45;&gt;07 -->
<g id="edge5" class="edge"><title>06&#45;&gt;07</title>
<path fill="none" stroke="black" d="M1161.75,-247.441C1164.73,-239.824 1168.39,-230.471 1172.07,-221.053"/>
<polygon fill="black" stroke="black" points="1175.36,-222.263 1175.74,-211.675 1168.84,-219.713 1175.36,-222.263"/>
</g>
<!-- 08 -->
<g id="node8" class="node"><title>08</title>
<g id="a_node8"><a xlink:href="https://github.com/ROCmSoftwarePlatform/tensorflow/blob/rocm-v1/tensorflow/compiler/jit/encapsulate_subgraphs_pass.cc#L557" xlink:title="tensorflow::EncapsulateSubgraphsInFunctions()">
<ellipse fill="none" stroke="black" cx="642" cy="-174.217" rx="180.868" ry="18"/>
<text text-anchor="middle" x="642" y="-170.517" font-family="Times,serif" font-size="14.00">tensorflow::EncapsulateSubgraphsInFunctions()</text>
</a>
</g>
</g>
<!-- 04&#45;&gt;08 -->
<g id="edge7" class="edge"><title>04&#45;&gt;08</title>
<path fill="none" stroke="black" d="M615.363,-247.441C620.111,-234.568 626.687,-216.737 632.117,-202.013"/>
<polygon fill="black" stroke="black" points="635.48,-203.009 635.657,-192.416 628.913,-200.587 635.48,-203.009"/>
</g>
<!-- 09 -->
<g id="node9" class="node"><title>09</title>
<ellipse fill="none" stroke="black" cx="671" cy="-73.8701" rx="239.004" ry="26.7407"/>
<text text-anchor="start" x="510" y="-77.6701" font-family="Times,serif" font-size="14.00"> Split subgraphs with _XlaCluster attribute into a functions</text>
<text text-anchor="start" x="545.5" y="-62.6701" font-family="Times,serif" font-size="14.00">Annotate with _XlaCompiledKernel attribute </text>
</g>
<!-- 08&#45;&gt;09 -->
<g id="edge8" class="edge"><title>08&#45;&gt;09</title>
<path fill="none" stroke="black" d="M647.051,-156.086C650.726,-143.626 655.833,-126.305 660.388,-110.858"/>
<polygon fill="black" stroke="black" points="663.81,-111.629 663.281,-101.048 657.095,-109.649 663.81,-111.629"/>
</g>
<!-- 10 -->
<g id="node11" class="node"><title>10</title>
<ellipse fill="none" stroke="black" cx="216" cy="-73.8701" rx="192.166" ry="26.7407"/>
<text text-anchor="start" x="88" y="-77.6701" font-family="Times,serif" font-size="14.00"> For nodes with _XlaCompiledKernel attribute</text>
<text text-anchor="start" x="137.5" y="-62.6701" font-family="Times,serif" font-size="14.00">Replace with XlaLaunch op </text>
</g>
<!-- 05&#45;&gt;10 -->
<g id="edge10" class="edge"><title>05&#45;&gt;10</title>
<path fill="none" stroke="black" d="M226.736,-156.086C225.104,-143.745 222.842,-126.634 220.815,-111.3"/>
<polygon fill="black" stroke="black" points="224.241,-110.503 219.46,-101.048 217.301,-111.42 224.241,-110.503"/>
</g>
</g>
</svg>
